@import '../base/variables.styl'
@import '../base/mixins.styl'

// 按钮基础样式
.tg-button
  position: relative
  display: inline-flex
  align-items: center
  justify-content: center
  height: $tg-height-base
  padding: 0 $tg-spacing-md
  font-size: $tg-font-size-base
  border-radius: $tg-border-radius
  border: none
  outline: none
  cursor: pointer
  transition: all 0.3s
  user-select: none
  white-space: nowrap
  background: var(--tg-color-bg)
  color: var(--tg-color-text)
  border: 1px solid var(--tg-color-border)

  &:hover
    color: var(--tg-color-primary)
    border-color: var(--tg-color-primary)
    background: var(--tg-color-bg-hover)

  &:active
    color: var(--tg-color-primary-active)
    border-color: var(--tg-color-primary-active)
    background: var(--tg-color-bg-active)

  // 尺寸变体
  &--large
    height: $tg-height-lg
    font-size: $tg-font-size-lg
    padding: 0 $tg-spacing-lg

  &--small
    height: $tg-height-sm
    font-size: $tg-font-size-sm
    padding: 0 $tg-spacing-sm

  // 类型变体
  &--primary
    background: var(--tg-color-primary)
    border-color: var(--tg-color-primary)
    color: $tg-color-white

    &:hover
      background: var(--tg-color-primary-hover)
      border-color: var(--tg-color-primary-hover)
      color: $tg-color-white

    &:active
      background: var(--tg-color-primary-active)
      border-color: var(--tg-color-primary-active)
      color: $tg-color-white

  &--danger
    background: var(--tg-color-danger)
    border-color: var(--tg-color-danger)
    color: $tg-color-white

    &:hover
      background: var(--tg-color-danger-hover)
      border-color: var(--tg-color-danger-hover)
      color: $tg-color-white

    &:active
      background: var(--tg-color-danger-active)
      border-color: var(--tg-color-danger-active)
      color: $tg-color-white

  &--success
    background: var(--tg-color-success)
    border-color: var(--tg-color-success)
    color: $tg-color-white

    &:hover
      background: var(--tg-color-success-hover)
      border-color: var(--tg-color-success-hover)
      color: $tg-color-white

    &:active
      background: var(--tg-color-success-active)
      border-color: var(--tg-color-success-active)
      color: $tg-color-white

  &--warning
    background: var(--tg-color-warning)
    border-color: var(--tg-color-warning)
    color: $tg-color-white

    &:hover
      background: var(--tg-color-warning-hover)
      border-color: var(--tg-color-warning-hover)
      color: $tg-color-white

    &:active
      background: var(--tg-color-warning-active)
      border-color: var(--tg-color-warning-active)
      color: $tg-color-white

  &--text
    background: transparent
    border-color: transparent
    color: var(--tg-color-text)

    &:hover
      color: var(--tg-color-primary)
      background: var(--tg-color-bg-hover)
      border-color: transparent

    &:active
      color: var(--tg-color-primary-active)
      background: var(--tg-color-bg-active)
      border-color: transparent

  // 形状变体
  &--round
    border-radius: $tg-border-radius-lg

  &--circle
    border-radius: 50%
    padding: 0
    width: $tg-height-base

    &.tg-button--large
      width: $tg-height-lg

    &.tg-button--small
      width: $tg-height-sm

  // 状态变体
  &--disabled
    cursor: not-allowed
    background: var(--tg-color-bg-disabled)
    border-color: var(--tg-color-border-disabled)
    color: var(--tg-color-text-disabled)

    &:hover
      background: var(--tg-color-bg-disabled)
      border-color: var(--tg-color-border-disabled)
      color: var(--tg-color-text-disabled)

  &--loading
    cursor: progress
    position: relative

  &__loading-icon
    margin-right: $tg-spacing-sm
    display: inline-flex
    align-items: center

    i
      animation: tg-spin 1s infinite linear
      display: inline-block

  &--block
    display: flex
    width: 100%

  // 图标样式
  &__icon
    margin-right: $tg-spacing-sm

  &__content
    display: inline-flex
    align-items: center

@keyframes tg-spin
  from
    transform: rotate(0deg)
  to
    transform: rotate(360deg)
