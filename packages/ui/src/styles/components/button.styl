@import '../base/variables.styl'
@import '../base/index.styl'

// 默认状态（light）
.pt-button
  position: relative
  display: inline-flex
  align-items: center
  justify-content: center
  font-weight: 400
  white-space: nowrap
  text-align: center
  background-image: none
  border: 1px solid transparent
  box-shadow: 0 2px 0 rgba(0, 0, 0, 0.015)
  cursor: pointer
  transition: all $pt-animation-duration-base $pt-animation-timing-function
  user-select: none
  touch-action: manipulation
  height: $pt-button-height
  padding: $pt-button-padding
  font-size: $pt-button-font-size
  border-radius: $pt-button-border-radius
  font-family: $pt-font-family
  color: $pt-button-default-color
  background: $pt-button-default-bg
  border-color: $pt-button-default-border

  &:hover
    color: $pt-color-primary
    background: $pt-button-default-bg
    border-color: $pt-color-primary

  &:active
    color: $pt-color-primary-active
    background: $pt-button-default-bg
    border-color: $pt-color-primary-active

  &-primary
    color: $pt-button-primary-color
    background: $pt-color-primary
    border-color: $pt-color-primary

    &:hover
      background: $pt-color-primary-hover
      border-color: $pt-color-primary-hover

    &:active
      background: $pt-color-primary-active
      border-color: $pt-color-primary-active

  &-ghost
    color: $pt-button-ghost-color
    background: transparent
    border-color: $pt-button-ghost-border

    &:hover
      color: $pt-button-ghost-color
      background: rgba(0, 0, 0, 0.05)
      border-color: $pt-button-ghost-border

    &:active
      color: $pt-button-ghost-color
      background: rgba(0, 0, 0, 0.1)
      border-color: $pt-button-ghost-border

    &.pt-button-primary
      color: $pt-color-primary
      border-color: $pt-color-primary

      &:hover
        color: $pt-color-primary-hover
        border-color: $pt-color-primary-hover
        background: rgba(24, 144, 255, 0.1)

      &:active
        color: $pt-color-primary-active
        border-color: $pt-color-primary-active
        background: rgba(24, 144, 255, 0.2)

    &.pt-button-success
      color: $pt-color-success
      border-color: $pt-color-success

      &:hover
        color: #73d13d
        border-color: #73d13d
        background: rgba(82, 196, 26, 0.1)

      &:active
        color: #389e0d
        border-color: #389e0d
        background: rgba(82, 196, 26, 0.2)

    &.pt-button-warning
      color: $pt-color-warning
      border-color: $pt-color-warning

      &:hover
        color: #ffc53d
        border-color: #ffc53d
        background: rgba(250, 173, 20, 0.1)

      &:active
        color: #d48806
        border-color: #d48806
        background: rgba(250, 173, 20, 0.2)

    &.pt-button-danger
      color: $pt-color-error
      border-color: $pt-color-error

      &:hover
        color: #ff7875
        border-color: #ff7875
        background: rgba(255, 77, 79, 0.1)

      &:active
        color: #d9363e
        border-color: #d9363e
        background: rgba(255, 77, 79, 0.2)

  &-small
    height: $pt-button-height-sm
    padding: $pt-button-padding-sm
    font-size: $pt-button-font-size-sm
    border-radius: $pt-button-border-radius

  &-large
    height: $pt-button-height-lg
    padding: $pt-button-padding-lg
    font-size: $pt-button-font-size-lg
    border-radius: $pt-button-border-radius

  &-loading
    position: relative
    cursor: default

    &:before
      position: absolute
      top: -1px
      right: -1px
      bottom: -1px
      left: -1px
      z-index: 1
      display: block
      background: inherit
      border-radius: inherit
      opacity: 0.35
      transition: opacity 0.2s
      content: ''
      pointer-events: none

  &-disabled
    cursor: not-allowed

    &:hover
      cursor: not-allowed

  &-block
    width: 100%

  &-icon
    margin-right: $pt-spacing-sm
    font-size: $pt-font-size-base
    line-height: 1

  &-suffix-icon
    margin-left: $pt-spacing-sm
    font-size: $pt-font-size-base
    line-height: 1

  &-loading-icon
    margin-right: $pt-spacing-sm
    font-size: $pt-font-size-base
    line-height: 1

    .loading-spinner
      display: inline-block
      width: $pt-font-size-base
      height: $pt-font-size-base
      border: 2px solid currentColor
      border-radius: 50%
      border-top-color: transparent
      animation: button-loading-spin 1s infinite linear

// 暗黑模式
html[data-theme-mode="dark"]
  .pt-button
    color: $pt-button-dark-default-color
    background: $pt-button-dark-default-bg
    border-color: $pt-button-dark-default-border

    &:hover
      color: $pt-color-primary
      background: $pt-button-dark-default-bg
      border-color: $pt-color-primary

    &:active
      color: $pt-color-primary-active
      background: $pt-button-dark-default-bg
      border-color: $pt-color-primary-active

    &-primary
      color: $pt-button-dark-primary-color
      background: $pt-color-primary
      border-color: $pt-color-primary

      &:hover
        background: $pt-color-primary-hover
        border-color: $pt-color-primary-hover

      &:active
        background: $pt-color-primary-active
        border-color: $pt-color-primary-active

    &-ghost
      color: $pt-button-dark-ghost-color
      background: transparent
      border-color: $pt-button-dark-ghost-border

      &:hover
        color: $pt-button-dark-ghost-color
        background: rgba(255, 255, 255, 0.1)
        border-color: $pt-button-dark-ghost-border

      &:active
        color: $pt-button-dark-ghost-color
        background: rgba(255, 255, 255, 0.2)
        border-color: $pt-button-dark-ghost-border

      &.pt-button-primary
        color: $pt-color-primary
        border-color: $pt-color-primary

        &:hover
          color: $pt-color-primary-hover
          border-color: $pt-color-primary-hover
          background: rgba(24, 144, 255, 0.1)

        &:active
          color: $pt-color-primary-active
          border-color: $pt-color-primary-active
          background: rgba(24, 144, 255, 0.2)

      &.pt-button-success
        color: $pt-color-success
        border-color: $pt-color-success

        &:hover
          color: #73d13d
          border-color: #73d13d
          background: rgba(82, 196, 26, 0.1)

        &:active
          color: #389e0d
          border-color: #389e0d
          background: rgba(82, 196, 26, 0.2)

      &.pt-button-warning
        color: $pt-color-warning
        border-color: $pt-color-warning

        &:hover
          color: #ffc53d
          border-color: #ffc53d
          background: rgba(250, 173, 20, 0.1)

        &:active
          color: #d48806
          border-color: #d48806
          background: rgba(250, 173, 20, 0.2)

      &.pt-button-danger
        color: $pt-color-error
        border-color: $pt-color-error

        &:hover
          color: #ff7875
          border-color: #ff7875
          background: rgba(255, 77, 79, 0.1)

        &:active
          color: #d9363e
          border-color: #d9363e
          background: rgba(255, 77, 79, 0.2)

@keyframes button-loading-spin
  from
    transform: rotate(0deg)
  to
    transform: rotate(360deg) 