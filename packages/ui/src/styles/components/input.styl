@import '../base/variables.styl'
@import '../base/mixins.styl'

// 输入框基础变量
$tg-input-height = 32px
$tg-input-height-large = 40px
$tg-input-height-small = 24px
$tg-input-padding = 0 12px
$tg-input-font-size = 14px
$tg-input-border-radius = $tg-border-radius-base
$tg-input-border-color = var(--tg-color-border)
$tg-input-border-color-hover = var(--tg-color-primary)
$tg-input-border-color-focus = var(--tg-color-primary)
$tg-input-bg = var(--tg-color-bg)
$tg-input-color = var(--tg-color-text)
$tg-input-placeholder-color = var(--tg-color-text-placeholder)
$tg-input-disabled-bg = var(--tg-color-disabled)
$tg-input-disabled-color = var(--tg-color-text-disabled)
$tg-input-disabled-border-color = var(--tg-color-border-disabled)

// 状态颜色
$tg-input-error-border-color = var(--tg-color-danger)
$tg-input-warning-border-color = var(--tg-color-warning)
$tg-input-success-border-color = var(--tg-color-success)

// 只做结构和状态类，不加任何视觉样式
.tg-input
  position: relative
  display: inline-flex
  align-items: center
  width: 100%
  font-size: $tg-font-size-base
  transition: all 0.3s
  &--large
    font-size: $tg-font-size-lg
  &--small
    font-size: $tg-font-size-sm
  &--disabled
    cursor: not-allowed
  &--readonly
    cursor: default
  &--textarea
    display: block

// 普通输入框样式
.tg-input__wrapper
  position: relative
  display: inline-flex
  align-items: center
  width: 100%
  height: $tg-input-height
  padding: $tg-input-padding
  border: 1px solid $tg-input-border-color
  border-radius: $tg-input-border-radius
  background: $tg-input-bg
  color: $tg-input-color
  transition: all 0.3s
  &:hover
    border-color: $tg-input-border-color-hover
  &:focus-within
    border-color: $tg-input-border-color-focus
    box-shadow: 0 0 0 2px var(--tg-color-primary-light)
  .tg-input--large &
    height: $tg-input-height-large
    padding: 0 $tg-spacing-lg
  .tg-input--small &
    height: $tg-input-height-small
    padding: 0 $tg-spacing-sm
  .tg-input--disabled &
    background: $tg-input-disabled-bg
    border-color: $tg-input-disabled-border-color
    color: $tg-input-disabled-color
    &:hover
      border-color: $tg-input-disabled-border-color
  .tg-input--readonly &
    background: $tg-input-disabled-bg
  .tg-input--error &
    border-color: var(--tg-color-danger)
    &:hover
      border-color: var(--tg-color-danger)
    &:focus-within
      border-color: var(--tg-color-danger)
      box-shadow: 0 0 0 2px var(--tg-color-danger-light)
  .tg-input--warning &
    border-color: var(--tg-color-warning)
    &:hover
      border-color: var(--tg-color-warning)
    &:focus-within
      border-color: var(--tg-color-warning)
      box-shadow: 0 0 0 2px var(--tg-color-warning-light)
  .tg-input--success &
    border-color: var(--tg-color-success)
    &:hover
      border-color: var(--tg-color-success)
    &:focus-within
      border-color: var(--tg-color-success)
      box-shadow: 0 0 0 2px var(--tg-color-success-light)

.tg-input__inner
  flex: 1
  width: 100%
  height: 100%
  padding: 0
  border: none
  outline: none
  background: transparent
  color: inherit
  font-size: inherit
  &::placeholder
    color: $tg-input-placeholder-color

// 文本域样式
.tg-input__textarea
  width: 100%
  min-height: $tg-input-height * 2
  padding: $tg-spacing-sm
  font-size: $tg-font-size-base
  line-height: 1.5
  color: $tg-input-color
  background: $tg-input-bg
  border: 1px solid $tg-input-border-color
  border-radius: $tg-input-border-radius
  outline: none
  resize: vertical
  transition: all 0.3s
  &:hover
    border-color: $tg-input-border-color-hover
  &:focus
    border-color: $tg-input-border-color-focus
    box-shadow: 0 0 0 2px var(--tg-color-primary-light)
  &::placeholder
    color: $tg-input-placeholder-color
  &:disabled
    cursor: not-allowed
    background: $tg-input-disabled-bg
    border-color: $tg-input-disabled-border-color
    color: $tg-input-disabled-color
    &:hover
      border-color: $tg-input-disabled-border-color
  &:read-only
    background: $tg-input-disabled-bg
    cursor: default
.tg-input--error .tg-input__textarea
  border-color: var(--tg-color-danger)
  &:hover
    border-color: var(--tg-color-danger)
  &:focus
    border-color: var(--tg-color-danger)
    box-shadow: 0 0 0 2px var(--tg-color-danger-light)
.tg-input--warning .tg-input__textarea
  border-color: var(--tg-color-warning)
  &:hover
    border-color: var(--tg-color-warning)
  &:focus
    border-color: var(--tg-color-warning)
    box-shadow: 0 0 0 2px var(--tg-color-warning-light)
.tg-input--success .tg-input__textarea
  border-color: var(--tg-color-success)
  &:hover
    border-color: var(--tg-color-success)
  &:focus
    border-color: var(--tg-color-success)
    box-shadow: 0 0 0 2px var(--tg-color-success-light)

.tg-input__prefix
  margin-right: $tg-spacing-sm
  color: var(--tg-color-text-secondary)
.tg-input__suffix
  margin-left: $tg-spacing-sm
  color: var(--tg-color-text-secondary)
.tg-input__clear
  margin-left: $tg-spacing-sm
  color: var(--tg-color-text-secondary)
  cursor: pointer
  transition: color 0.3s
  &:hover
    color: var(--tg-color-text)
.tg-input__password-toggle
  margin-left: $tg-spacing-sm
  color: var(--tg-color-text-secondary)
  cursor: pointer
  transition: color 0.3s
  &:hover
    color: var(--tg-color-text)
