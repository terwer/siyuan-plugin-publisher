@import '../base/variables.styl'
@import '../base/mixins.styl'

// Form 组件样式
.tg-form
  width 100%
  font-size $tg-font-size-base
  color var(--tg-color-text)

  // 水平布局
  &-horizontal
    .tg-form-item
      display flex
      margin-bottom $tg-spacing-lg
      align-items flex-start

      .tg-form-item-label
        flex-shrink 0
        text-align left
        padding-right $tg-spacing-md
        line-height $tg-line-height-base
        color var(--tg-color-text)
        font-weight $tg-font-weight-regular
        position relative

      .tg-form-item-control
        flex 1
        display flex
        flex-direction column
        min-width 0

        .tg-form-item-control-input
          width var(--tg-form-control-width)
          margin-left auto
          .tg-form-item-control-input-content
            display flex
            justify-content flex-end

        .tg-form-item-explain
          margin-top $tg-spacing-xs
          color var(--tg-color-error)
          font-size $tg-font-size-sm
          text-align right
          width var(--tg-form-control-width)
          margin-left auto

  // 垂直布局
  &-vertical
    .tg-form-item
      margin-bottom $tg-spacing-lg

      .tg-form-item-label
        display block
        margin-bottom $tg-spacing-xs
        line-height $tg-line-height-base
        color var(--tg-color-text)
        font-weight $tg-font-weight-regular
        position relative

      .tg-form-item-control
        width 100%

  // 行内布局
  &-inline
    .tg-form-item
      display inline-flex
      margin-right $tg-spacing-lg
      margin-bottom $tg-spacing-lg
      align-items center

      .tg-form-item-label
        flex-shrink 0
        margin-right $tg-spacing-md
        line-height $tg-line-height-base
        color var(--tg-color-text)
        font-weight $tg-font-weight-regular
        position relative

      .tg-form-item-control
        display inline-flex
        align-items center
        justify-content flex-end

        .tg-form-item-control-input
          width var(--tg-form-control-width)
          .tg-form-item-control-input-content
            display flex
            justify-content flex-end

  // 表单组
  .tg-form-group
    margin-bottom $tg-spacing-xl

    .tg-form-group-title
      margin-bottom $tg-spacing-lg
      font-size $tg-font-size-base
      font-weight $tg-font-weight-bold
      color var(--tg-color-text)
      border-bottom $tg-border-width-base solid var(--tg-color-border)
      padding-bottom $tg-spacing-xs
      padding-left $tg-spacing-sm
      position relative

      &::before
        content ""
        position absolute
        left 0
        top -2px
        bottom 0
        margin auto
        width 3px
        height 16px
        background-color var(--tg-color-primary)
        border-radius 2px

  // 错误状态
  .tg-form-item-has-error
    .tg-form-item-label
      color var(--tg-color-error)

    .tg-form-item-control-input
      .tg-input,
      .tg-select,
      .tg-date-picker,
      .tg-textarea
        border-color var(--tg-color-error)

        &:hover
          border-color var(--tg-color-error-hover)

        &:focus
          border-color var(--tg-color-error-active)
          box-shadow 0 0 0 $tg-shadow-error var(--tg-color-error-bg)

    .tg-form-item-explain
      color var(--tg-color-error)
      font-size $tg-font-size-sm
      margin-top $tg-spacing-xs

  // 必填项标记
  .tg-form-item-required
    &::before
      content "*"
      color var(--tg-color-error)
      margin-right $tg-spacing-xs

  // 响应式布局
  @media (max-width $tg-screen-sm)
    &-horizontal
      .tg-form-item
        flex-direction column

        .tg-form-item-label
          text-align left
          margin-bottom $tg-spacing-xs
          padding-right 0

        .tg-form-item-control
          width 100%

    &-inline
      .tg-form-item
        display block
        margin-right 0
        margin-bottom $tg-spacing-md

        .tg-form-item-label
          display block
          margin-bottom $tg-spacing-xs

        .tg-form-item-control
          width 100%
