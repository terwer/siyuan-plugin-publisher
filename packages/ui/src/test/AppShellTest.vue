<!--
  -            GNU GENERAL PUBLIC LICENSE
  -               Version 3, 29 June 2007
  -
  -  Copyright (C) 2025 Terwer, Inc. <https://terwer.space/>
  -  Everyone is permitted to copy and distribute verbatim copies
  -  of this license document, but changing it is not allowed.
  -->

<template>
  <div class="tg-test-app-shell">
    <h2>AppShell ç»„ä»¶æµ‹è¯•</h2>

    <div class="tg-test-section">
      <h3>åŸºç¡€ç”¨æ³•</h3>
      <TgAppShell
        :nav-items="basicNavItems"
        @nav-change="handleNavChange"
        @collapse-change="handleCollapseChange"
      >
        <div class="tg-test-content">
          <h4>å†…å®¹åŒºåŸŸ</h4>
          <p>å½“å‰é€‰ä¸­çš„è·¯ç”±: {{ currentRoute }}</p>
          <p>å¯¼èˆªæ æ˜¯å¦æŠ˜å : {{ isCollapsed }}</p>
        </div>
      </TgAppShell>
    </div>

    <div class="tg-test-section">
      <h3>è‡ªå®šä¹‰å®½åº¦</h3>
      <TgAppShell
        :nav-items="basicNavItems"
        :nav-width="240"
        @nav-change="handleNavChange"
        @collapse-change="handleCollapseChange"
      >
        <div class="tg-test-content">
          <h4>å†…å®¹åŒºåŸŸ</h4>
          <p>å¯¼èˆªæ å®½åº¦: 240px</p>
        </div>
      </TgAppShell>
    </div>

    <div class="tg-test-section">
      <h3>ç¦ç”¨å¯¼èˆªé¡¹</h3>
      <TgAppShell
        :nav-items="disabledNavItems"
        @nav-change="handleNavChange"
        @collapse-change="handleCollapseChange"
      >
        <div class="tg-test-content">
          <h4>å†…å®¹åŒºåŸŸ</h4>
          <p>åŒ…å«ç¦ç”¨çš„å¯¼èˆªé¡¹</p>
        </div>
      </TgAppShell>
    </div>

    <div class="tg-test-section">
      <h3>å¸¦å›¾æ ‡çš„å¯¼èˆªé¡¹</h3>
      <TgAppShell
        :nav-items="iconNavItems"
        @nav-change="handleNavChange"
        @collapse-change="handleCollapseChange"
      >
        <div class="tg-test-content">
          <h4>å†…å®¹åŒºåŸŸ</h4>
          <p>å¯¼èˆªé¡¹åŒ…å«å›¾æ ‡</p>
        </div>
      </TgAppShell>
    </div>

    <div class="tg-test-section">
      <h3>å›ºå®šå®šä½</h3>
      <TgAppShell
        :nav-items="basicNavItems"
        :fixed="true"
        @nav-change="handleNavChange"
        @collapse-change="handleCollapseChange"
      >
        <div class="tg-test-content">
          <h4>å†…å®¹åŒºåŸŸ</h4>
          <p>å›ºå®šåœ¨è§†å£</p>
        </div>
      </TgAppShell>
    </div>

    <div class="tg-test-section">
      <h3>éšè—å¯¼èˆªæ </h3>
      <TgAppShell
        :nav-items="basicNavItems"
        :show-nav="false"
        @nav-change="handleNavChange"
        @collapse-change="handleCollapseChange"
      >
        <div class="tg-test-content">
          <h4>å†…å®¹åŒºåŸŸ</h4>
          <p>ä¸æ˜¾ç¤ºå¯¼èˆªæ </p>
        </div>
      </TgAppShell>
    </div>

    <div class="tg-test-section">
      <h3>éšè—æŠ˜å æŒ‰é’®</h3>
      <TgAppShell
        :nav-items="basicNavItems"
        :show-collapse-button="false"
        @nav-change="handleNavChange"
        @collapse-change="handleCollapseChange"
      >
        <div class="tg-test-content">
          <h4>å†…å®¹åŒºåŸŸ</h4>
          <p>ä¸æ˜¾ç¤ºæŠ˜å æŒ‰é’®</p>
        </div>
      </TgAppShell>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from "vue"
import { TgAppShell } from "../index"
import type { AppShellNavItem } from "../types"

const currentRoute = ref("")
const isCollapsed = ref(false)

const basicNavItems: AppShellNavItem[] = [
  { label: "é¦–é¡µ", route: "/" },
  { label: "å‘å¸ƒ", route: "/publish" },
  { label: "è®¾ç½®", route: "/settings" },
]

const disabledNavItems: AppShellNavItem[] = [
  { label: "é¦–é¡µ", route: "/" },
  { label: "å‘å¸ƒ", route: "/publish", disabled: true },
  { label: "è®¾ç½®", route: "/settings" },
]

const iconNavItems: AppShellNavItem[] = [
  { label: "é¦–é¡µ", route: "/", icon: "ğŸ " },
  { label: "å‘å¸ƒ", route: "/publish", icon: "ğŸ“" },
  { label: "è®¾ç½®", route: "/settings", icon: "âš™ï¸" },
]

const handleNavChange = (route: string) => {
  currentRoute.value = route
  console.log("å¯¼èˆªåˆ°:", route)
}

const handleCollapseChange = (collapsed: boolean) => {
  isCollapsed.value = collapsed
  console.log("æŠ˜å çŠ¶æ€:", collapsed)
}
</script>

<style lang="stylus">
.tg-test-app-shell
  padding $tg-spacing-lg

  .tg-test-section
    margin-bottom $tg-spacing-xl
    border 1px solid var(--tg-color-border)
    border-radius $tg-border-radius-lg
    overflow hidden

    h3
      margin 0
      padding $tg-spacing-md
      background-color var(--tg-color-bg-hover)
      border-bottom 1px solid var(--tg-color-border)
      font-size $tg-font-size-lg
      color var(--tg-color-text-1)

  .tg-test-content
    padding $tg-spacing-lg
    min-height 200px

    h4
      margin 0 0 $tg-spacing-md
      color var(--tg-color-text-1)

    p
      margin $tg-spacing-xs 0
      color var(--tg-color-text-2)
</style> 