<!--
  -            GNU GENERAL PUBLIC LICENSE
  -               Version 3, 29 June 2007
  -
  -  Copyright (C) 2025 Terwer, Inc. <https://terwer.space/>
  -  Everyone is permitted to copy and distribute verbatim copies
  -  of this license document, but changing it is not allowed.
  -->

<template>
  <div class="tg-test-app-shell">
    <h2>AppShell ç»„ä»¶æµ‹è¯•</h2>

    <div class="tg-test-grid">
      <div class="tg-test-section">
        <h3>åŸºç¡€ç”¨æ³•</h3>
        <div class="tg-test-demo">
          <div class="tg-test-demo-container">
            <TgAppShell
              :nav-items="basicNavItems"
              @nav-change="handleNavChange"
              @collapse-change="handleCollapseChange"
            >
              <template #nav-header>
                <div class="tg-app-shell__logo">Logo</div>
              </template>
              <template #header>
                <div class="tg-app-shell__header">Header</div>
              </template>
              <div class="tg-test-content">
                <h4>å†…å®¹åŒºåŸŸ</h4>
                <p>å½“å‰é€‰ä¸­çš„è·¯ç”±: {{ currentRoute }}</p>
                <p>å¯¼èˆªæ æ˜¯å¦æŠ˜å : {{ isCollapsed }}</p>
              </div>
            </TgAppShell>
          </div>
        </div>
      </div>

      <div class="tg-test-section">
        <h3>è‡ªå®šä¹‰å®½åº¦</h3>
        <div class="tg-test-demo">
          <div class="tg-test-demo-container">
            <TgAppShell
              :nav-items="basicNavItems"
              :nav-width="240"
              @nav-change="handleNavChange"
              @collapse-change="handleCollapseChange"
            >
              <template #nav-header>
                <div class="tg-app-shell__logo">Logo</div>
              </template>
              <template #header>
                <div class="tg-app-shell__header">Header</div>
              </template>
              <div class="tg-test-content">
                <h4>å†…å®¹åŒºåŸŸ</h4>
                <p>å¯¼èˆªæ å®½åº¦: 240px</p>
              </div>
            </TgAppShell>
          </div>
        </div>
      </div>

      <div class="tg-test-section">
        <h3>å¸¦å›¾æ ‡çš„å¯¼èˆªé¡¹</h3>
        <div class="tg-test-demo">
          <div class="tg-test-demo-container">
            <TgAppShell :nav-items="iconNavItems" @nav-change="handleNavChange" @collapse-change="handleCollapseChange">
              <template #nav-header>
                <div class="tg-app-shell__logo">Logo</div>
              </template>
              <template #header>
                <div class="tg-app-shell__header">Header</div>
              </template>
              <div class="tg-test-content">
                <h4>å†…å®¹åŒºåŸŸ</h4>
                <p>å¯¼èˆªé¡¹åŒ…å«å›¾æ ‡</p>
                <p>æŠ˜å æ—¶åªæ˜¾ç¤ºå›¾æ ‡</p>
                <p>å±•å¼€æ—¶æ˜¾ç¤ºå›¾æ ‡å’Œæ–‡å­—</p>
              </div>
            </TgAppShell>
          </div>
        </div>
      </div>

      <div class="tg-test-section">
        <h3>ç¦ç”¨å¯¼èˆªé¡¹</h3>
        <div class="tg-test-demo">
          <div class="tg-test-demo-container">
            <TgAppShell
              :nav-items="disabledNavItems"
              @nav-change="handleNavChange"
              @collapse-change="handleCollapseChange"
            >
              <template #nav-header>
                <div class="tg-app-shell__logo">Logo</div>
              </template>
              <template #header>
                <div class="tg-app-shell__header">Header</div>
              </template>
              <div class="tg-test-content">
                <h4>å†…å®¹åŒºåŸŸ</h4>
                <p>åŒ…å«ç¦ç”¨çš„å¯¼èˆªé¡¹</p>
              </div>
            </TgAppShell>
          </div>
        </div>
      </div>

      <div class="tg-test-section">
        <h3>éšè—å¯¼èˆªæ </h3>
        <div class="tg-test-demo">
          <div class="tg-test-demo-container">
            <TgAppShell
              :nav-items="basicNavItems"
              :show-nav="false"
              @nav-change="handleNavChange"
              @collapse-change="handleCollapseChange"
            >
              <template #header>
                <div class="tg-app-shell__header">Header</div>
              </template>
              <div class="tg-test-content">
                <h4>å†…å®¹åŒºåŸŸ</h4>
                <p>ä¸æ˜¾ç¤ºå¯¼èˆªæ </p>
              </div>
            </TgAppShell>
          </div>
        </div>
      </div>

      <div class="tg-test-section">
        <h3>éšè—æŠ˜å æŒ‰é’®</h3>
        <div class="tg-test-demo">
          <div class="tg-test-demo-container">
            <TgAppShell
              :nav-items="basicNavItems"
              :show-collapse-button="false"
              @nav-change="handleNavChange"
              @collapse-change="handleCollapseChange"
            >
              <template #nav-header>
                <div class="tg-app-shell__logo">Logo</div>
              </template>
              <template #header>
                <div class="tg-app-shell__header">Header</div>
              </template>
              <div class="tg-test-content">
                <h4>å†…å®¹åŒºåŸŸ</h4>
                <p>ä¸æ˜¾ç¤ºæŠ˜å æŒ‰é’®</p>
              </div>
            </TgAppShell>
          </div>
        </div>
      </div>
    </div>

    <div class="tg-test-code-section">
      <h3>ä»£ç ç¤ºä¾‹</h3>
      <div class="tg-test-code">
        <pre><code>// åŸºç¡€å¯¼èˆªé¡¹
const basicNavItems = [
  { label: "é¦–é¡µ", route: "/" },
  { label: "å‘å¸ƒ", route: "/publish" },
  { label: "è®¾ç½®", route: "/settings" },
]

// å¸¦å›¾æ ‡çš„å¯¼èˆªé¡¹
const iconNavItems = [
  { label: "é¦–é¡µ", route: "/", icon: "ğŸ " },
  { label: "å‘å¸ƒ", route: "/publish", icon: "ğŸ“" },
  { label: "è®¾ç½®", route: "/settings", icon: "âš™ï¸" },
  { label: "æ–‡æ¡£", route: "/docs", icon: "ğŸ“š" },
  { label: "ç»Ÿè®¡", route: "/stats", icon: "ğŸ“Š" },
  { label: "ç”¨æˆ·", route: "/user", icon: "ğŸ‘¤" },
  { label: "é€šçŸ¥", route: "/notifications", icon: "ğŸ””" },
  { label: "å¸®åŠ©", route: "/help", icon: "â“" },
]

// ç¦ç”¨çš„å¯¼èˆªé¡¹
const disabledNavItems = [
  { label: "é¦–é¡µ", route: "/" },
  { label: "å‘å¸ƒ", route: "/publish", disabled: true },
  { label: "è®¾ç½®", route: "/settings" },
]</code></pre>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from "vue"
import { TgAppShell } from "../index"
import type { AppShellNavItem } from "../types"

const currentRoute = ref("")
const isCollapsed = ref(false)

const basicNavItems: AppShellNavItem[] = [
  { label: "é¦–é¡µ", route: "/" },
  { label: "å‘å¸ƒ", route: "/publish" },
  { label: "è®¾ç½®", route: "/settings" },
]

const disabledNavItems: AppShellNavItem[] = [
  { label: "é¦–é¡µ", route: "/" },
  { label: "å‘å¸ƒ", route: "/publish", disabled: true },
  { label: "è®¾ç½®", route: "/settings" },
]

const iconNavItems: AppShellNavItem[] = [
  { label: "é¦–é¡µ", route: "/", icon: "ğŸ " },
  { label: "å‘å¸ƒ", route: "/publish", icon: "ğŸ“" },
  { label: "è®¾ç½®", route: "/settings", icon: "âš™ï¸" },
  { label: "æ–‡æ¡£", route: "/docs", icon: "ğŸ“š" },
  { label: "ç»Ÿè®¡", route: "/stats", icon: "ğŸ“Š" },
  { label: "ç”¨æˆ·", route: "/user", icon: "ğŸ‘¤" },
  { label: "é€šçŸ¥", route: "/notifications", icon: "ğŸ””" },
  { label: "å¸®åŠ©", route: "/help", icon: "â“" },
]

const handleNavChange = (route: string) => {
  currentRoute.value = route
  console.log("å¯¼èˆªåˆ°:", route)
}

const handleCollapseChange = (collapsed: boolean) => {
  isCollapsed.value = collapsed
  console.log("æŠ˜å çŠ¶æ€:", collapsed)
}
</script>

<style lang="stylus">
.tg-test-app-shell
  padding $tg-spacing-lg
  min-height 100vh
  display flex
  flex-direction column
  background-color var(--tg-color-bg)

  h2
    margin-bottom $tg-spacing-xl
    font-size $tg-font-size-xl
    color var(--tg-color-text-1)

  .tg-test-grid
    display grid
    grid-template-columns repeat(auto-fit, minmax(400px, 1fr))
    gap $tg-spacing-lg
    margin-bottom $tg-spacing-xl
    flex 1

  .tg-test-section
    border 1px solid var(--tg-color-border)
    border-radius $tg-border-radius-lg
    overflow hidden
    display flex
    flex-direction column

    h3
      margin 0
      padding $tg-spacing-md
      background-color var(--tg-color-bg-hover)
      border-bottom 1px solid var(--tg-color-border)
      font-size $tg-font-size-lg
      color var(--tg-color-text-1)

  .tg-test-demo
    height 400px
    background var(--tg-color-bg-2)
    border-radius $tg-border-radius-base
    overflow hidden
    flex 1

  .tg-test-demo-container
    height 100%
    width 100%
    position relative

  .tg-test-content
    padding $tg-spacing-lg
    min-height 200px

    h4
      margin 0 0 $tg-spacing-md
      color var(--tg-color-text-1)

    p
      margin $tg-spacing-xs 0
      color var(--tg-color-text-2)

  .tg-test-code-section
    margin-top $tg-spacing-xl
    padding $tg-spacing-lg
    background var(--tg-color-bg-2)
    border-radius $tg-border-radius-lg

    h3
      margin 0 0 $tg-spacing-lg
      font-size $tg-font-size-lg
      color var(--tg-color-text-1)

  .tg-test-code
    pre
      margin 0
      padding $tg-spacing-md
      background var(--tg-color-bg)
      border 1px solid var(--tg-color-border)
      border-radius $tg-border-radius-base
      font-family monospace
      font-size $tg-font-size-sm
      line-height 1.5
      overflow-x auto

      code
        display block
        padding $tg-spacing-sm
        background none
        border none
        white-space pre-wrap
        word-break break-all
        color var(--tg-color-text-1)

.tg-app-shell__logo
  height 64px
  display flex
  align-items center
  justify-content center
  font-size $tg-font-size-lg
  font-weight 500
  color var(--tg-color-text-1)
  border-bottom 1px solid var(--tg-color-border)

.tg-app-shell__header
  height 64px
  display flex
  align-items center
  padding 0 $tg-spacing-lg
  font-size $tg-font-size-lg
  font-weight 500
  color var(--tg-color-text-1)
  border-bottom 1px solid var(--tg-color-border)
</style>
